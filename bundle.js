!function a(i,l,c){function s(e,t){if(!l[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=l[e]={exports:{}};i[e][0].call(r.exports,function(t){return s(i[e][1][t]||t)},r,r.exports,a,i,l,c)}return l[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)s(c[t]);return s}({1:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(n,"__esModule",{value:!0});var y,v=t("./chapterControl"),m=t("./data"),_=t("./history"),a=t("./Menu"),i=(y=a.Menu,r(M,y),M);function M(t,e){var n,o,r,a,i=this;void 0===e&&(e=m.data.chapterTree),i=y.call(this,e.isRoot?"章节选择":e.displayName,t)||this;try{for(var l=h(e.subfolders),c=l.next();!c.done;c=l.next()){var s=c.value;i.addLink(new M(i,s),!0).addClass("folder")}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}function u(t){var e=d.addItem(t.displayName,{small:!0,button:!0}).onClick(function(){v.loadChapter(t.htmlRelativePath),_.updateHistory(!0)});t.isEarlyAccess&&(e.setInnerText("[编写中] "+t.displayName),e.addClass("early-access"))}var d=this;try{for(var p=h(e.chapters),f=p.next();!f.done;f=p.next()){u(f.value)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}return i}n.ChaptersMenu=i},{"./Menu":5,"./chapterControl":12,"./data":13,"./history":15}],2:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a,i=t("./Menu"),l=(a=i.Menu,r(c,a),c);function c(t){var e=a.call(this,"订阅/讨论组",t)||this;return e.addItem("Telegram 更新推送频道",{small:!0,button:!0,link:"https://t.me/joinchat/AAAAAEpkRVwZ-3s5V3YHjA"}),e.addItem("Telegram 讨论组",{small:!0,button:!0,link:"https://t.me/joinchat/Dt8_WlJnmEwYNbjzlnLyNA"}),e.addItem("GitHub Repo",{small:!0,button:!0,link:"https://github.com/SCLeoX/Wearable-Technology"}),e.addItem("原始 Google Docs",{small:!0,button:!0,link:"https://docs.google.com/document/d/1Pp5CtO8c77DnWGqbXg-3e7w9Q3t88P35FOl6iIJvMfo/edit?usp=sharing"}),e}n.ContactMenu=l},{"./Menu":5}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.id=function(t){return document.getElementById(t)},n.getTextNodes=function t(e,n){for(var o=n||[],r=e.firstChild;null!==r;)r instanceof HTMLElement&&t(r,o),r instanceof Text&&o.push(r),r=r.nextSibling;return o}},{}],4:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a,i=t("./ChaptersMenu"),l=t("./ContactMenu"),c=t("./Menu"),s=t("./SettingsMenu"),u=t("./StatsMenu"),d=t("./StyleMenu"),p=t("./ThanksMenu"),f=(a=c.Menu,r(h,a),h);function h(){var t=a.call(this,"",null)||this;return t.addLink(new i.ChaptersMenu(t)),t.addLink(new p.ThanksMenu(t)),t.addLink(new d.StyleMenu(t)),t.addLink(new l.ContactMenu(t)),t.addItem("源代码",{button:!0,link:"https://github.com/SCLeoX/Wearable-Technology"}),t.addLink(new s.SettingsMenu(t)),t.addLink(new u.StatsMenu(t)),t}n.MainMenu=f},{"./ChaptersMenu":1,"./ContactMenu":2,"./Menu":5,"./SettingsMenu":7,"./StatsMenu":9,"./StyleMenu":10,"./ThanksMenu":11}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o,a=t("./RectMode");(o=r=n.ItemDecoration||(n.ItemDecoration={}))[o.SELECTABLE=0]="SELECTABLE",o[o.BACK=1]="BACK";var i=(l.prototype.setSelected=function(t){return this.element.classList.toggle("selected",t),this},l.prototype.onClick=function(t){var e=this;return this.element.addEventListener("click",function(){e.menu.isActive()&&t()}),this},l.prototype.linkTo=function(t){var e=this;return this.onClick(function(){e.menu.setActive(!1),t.setActive(!0),a.setRectMode(t.rectMode)}),this},l.prototype.setInnerText=function(t){return this.element.innerText=t,this},l.prototype.addClass=function(t){return this.element.classList.add(t),this},l);function l(t,e){this.menu=t,this.element=e}n.ItemHandle=i;var c=(s.prototype.onActive=function(){},s.prototype.setActive=function(t){!this.active&&t&&this.onActive(),this.active=t,this.container.classList.toggle("hidden",!t)},s.prototype.isActive=function(){return this.active},s.prototype.addItem=function(t,e){var n;return e.button&&void 0!==e.link?((n=document.createElement("a")).href=e.link,n.target="_blank"):n=document.createElement("div"),n.innerText=t,e.small&&n.classList.add("small"),e.button&&(n.classList.add("button"),e.decoration===r.BACK?n.classList.add("back"):e.decoration===r.SELECTABLE&&n.classList.add("selectable")),this.container.appendChild(n),new i(this,n)},s.prototype.addLink=function(t,e){return this.addItem(t.name,{small:e,button:!0}).linkTo(t)},s);function s(t,e,n){if(void 0===n&&(n=a.RectMode.OFF),this.name=t,this.rectMode=n,this.fullPath=null===e?[]:e.fullPath.slice(),""!==t&&this.fullPath.push(t),this.container=document.createElement("div"),this.container.classList.add("menu","hidden"),1<=this.fullPath.length){var o=document.createElement("div");o.classList.add("path"),o.innerText=this.fullPath.join(" > "),this.container.appendChild(o)}null!==e&&this.addItem("返回",{button:!0,decoration:r.BACK}).linkTo(e),document.body.appendChild(this.container)}n.Menu=c},{"./RectMode":6}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r,a=t("./DOM");(r=o=n.RectMode||(n.RectMode={}))[r.SIDE=0]="SIDE",r[r.MAIN=1]="MAIN",r[r.OFF=2]="OFF";var i=a.id("rect"),l=o.OFF;n.setRectMode=function(t){l!==t&&(t===o.OFF?i.classList.remove("reading"):(l===o.MAIN?i.classList.remove("main"):l===o.SIDE?i.classList.remove("side"):(i.classList.remove("main","side"),i.classList.add("reading")),t===o.MAIN?i.classList.add("main"):i.classList.add("side")),l=t)}},{"./DOM":3}],7:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a,i=t("./Menu"),l=t("./settings"),c=(a=i.Menu,r(s,a),s.prototype.addBooleanSetting=function(t,e){function n(){return t+"："+(e.getValue()?"开":"关")}var o=this.addItem(n(),{small:!0,button:!0}).onClick(function(){e.toggle(),o.setInnerText(n())})},s);function s(t){var e=a.call(this,"设置",t)||this;return e.addBooleanSetting("NSFW 警告",l.warning),e.addBooleanSetting("使用动画",l.animation),e.addBooleanSetting("显示编写中章节",l.earlyAccess),e}n.SettingsMenu=c},{"./Menu":5,"./settings":18}],8:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,a=n.call(t),i=[];try{for(;(void 0===e||0<e--)&&!(o=a.next()).done;)i.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i};Object.defineProperty(n,"__esModule",{value:!0});var i,l=t("./data"),c=t("./Menu"),s=(i=c.Menu,r(u,i),u);function u(t){var r=i.call(this,"关键词统计",t)||this;return r.addItem("添加其他关键词",{small:!0,button:!0,link:"https://github.com/SCLeoX/Wearable-Technology/edit/master/src/builder/keywords.ts"}),l.data.keywordsCount.forEach(function(t){var e=a(t,2),n=e[0],o=e[1];r.addItem(n+"："+o,{small:!0})}),r}n.StatsKeywordsCountMenu=s},{"./Menu":5,"./data":13}],9:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a,i=t("./data"),l=t("./Menu"),c=t("./StatsKeywordsCountMenu"),s=(a=l.Menu,r(u,a),u);function u(t){var e=a.call(this,"统计",t)||this;return e.addItem("统计数据由构建脚本自动生成",{small:!0}),e.addLink(new c.StatsKeywordsCountMenu(e),!0),e.addItem("总字数："+i.data.charsCount,{small:!0}),e.addItem("总段落数："+i.data.paragraphsCount,{small:!0}),e}n.StatsMenu=s},{"./Menu":5,"./StatsKeywordsCountMenu":8,"./data":13}],10:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./DOM"),v=t("./Menu"),m=t("./RectMode"),i=t("./stylePreviewArticle"),l=(c.prototype.injectStyleSheet=function(){var t=document.createElement("style");document.head.appendChild(t);var e=t.sheet;e.disabled=!0,e.insertRule(".rect.reading { background-color: "+this.def.rectBgColor+"; }"),e.insertRule(".rect.reading>.content { background-color: "+this.def.paperBgColor+"; }"),e.insertRule(".rect.reading>.content { color: "+this.def.textColor+"; }"),e.insertRule(".rect.reading>.content a { color: "+this.def.linkColor+"; }"),e.insertRule(".rect.reading>.content a:visited { color: "+this.def.linkColor+"; }"),e.insertRule(".rect.reading>.content a:hover { color: "+this.def.linkHoverColor+"; }"),e.insertRule(".rect.reading>.content a:active { color: "+this.def.linkActiveColor+"; }"),e.insertRule(".rect.reading>.content>.earlyAccess.block { background-color: "+this.def.contentBlockEarlyAccessColor+"; }"),this.styleSheet=e},c.prototype.active=function(){if(null!==c.currentlyEnabled){var t=c.currentlyEnabled;null!==t.styleSheet&&(t.styleSheet.disabled=!0),t.itemHandle.setSelected(!1)}null===this.styleSheet&&this.injectStyleSheet(),this.styleSheet.disabled=!1,this.itemHandle.setSelected(!0),window.localStorage.setItem("style",this.name),c.currentlyEnabled=this},c.currentlyEnabled=null,c);function c(t,e){this.name=t,this.def=e,this.styleSheet=null}var _,M=[new l("默认",{rectBgColor:"#EFEFED",paperBgColor:"#FFF",textColor:"#000",linkColor:"#00E",linkHoverColor:"#00E",linkActiveColor:"#00C",contentBlockEarlyAccessColor:"#FFE082"}),new l("夜间",{rectBgColor:"#272B36",paperBgColor:"#38404D",textColor:"#DDD",linkColor:"#55E",linkHoverColor:"#55E",linkActiveColor:"#33C",contentBlockEarlyAccessColor:"#E65100"}),new l("羊皮纸",{rectBgColor:"#D8D4C9",paperBgColor:"#F8F4E9",textColor:"#552830",linkColor:"#00E",linkHoverColor:"#00E",linkActiveColor:"#00C",contentBlockEarlyAccessColor:"#FFE082"}),new l("可穿戴科技",{rectBgColor:"#444",paperBgColor:"#333",textColor:"#DDD",linkColor:"#66F",linkHoverColor:"#66F",linkActiveColor:"#44D",contentBlockEarlyAccessColor:"#E65100"}),new l("巧克力",{rectBgColor:"#2C1C11",paperBgColor:"#3E2519",textColor:"#CD9F89",linkColor:"#66F",linkHoverColor:"#66F",linkActiveColor:"#44D",contentBlockEarlyAccessColor:"#E65100"})],s=(_=v.Menu,r(u,_),u.prototype.onActive=function(){a.id("content").innerHTML=i.stylePreviewArticle},u);function u(t){function e(t){t.itemHandle=l.addItem(t.name,{small:!0,button:!0,decoration:v.ItemDecoration.SELECTABLE}).onClick(function(){t.active()})}var n,o,r,a,i=_.call(this,"阅读器样式",t,m.RectMode.SIDE)||this,l=this;try{for(var c=y(M),s=c.next();!s.done;s=c.next()){e(h=s.value)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}var u=window.localStorage.getItem("style"),d=!1;try{for(var p=y(M),f=p.next();!f.done;f=p.next()){var h;if(u===(h=f.value).name){h.active(),d=!0;break}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}return d||M[0].active(),i}n.StyleMenu=s},{"./DOM":3,"./Menu":5,"./RectMode":6,"./stylePreviewArticle":20}],11:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};Object.defineProperty(n,"__esModule",{value:!0});var c,a=t("./Menu"),s=t("./thanks"),i=(c=a.Menu,r(u,c),u);function u(t){var e,n,o=c.call(this,"鸣谢列表",t)||this;try{for(var r=l(s.thanks),a=r.next();!a.done;a=r.next()){var i=a.value;o.addItem(i.name,void 0===i.link?{small:!0}:{small:!0,button:!0,link:i.link})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}n.ThanksMenu=i},{"./Menu":5,"./thanks":21}],12:[function(t,e,n){"use strict";var s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,a=n.call(t),i=[];try{for(;(void 0===e||0<e--)&&!(o=a.next()).done;)i.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./data"),u=t("./DOM"),d=t("./history"),a=t("./loadingText"),i=t("./RectMode"),o=t("./settings"),p=t("./state"),f=u.id("content"),l=new Map;function h(){i.setRectMode(i.RectMode.OFF),p.state.currentChapter=null,p.state.chapterSelection=null,p.state.chapterTextNodes=null}n.closeChapter=h;function y(t){var e=s(t,4),n=e[0],o=e[1],r=e[2],a=e[3];if(null!==p.state.chapterTextNodes){var i=p.state.chapterTextNodes[n],l=p.state.chapterTextNodes[r];if(void 0!==i&&void 0!==l){document.getSelection().setBaseAndExtent(i,o,l,a);var c=i.parentElement;null!==c&&"function"==typeof c.scrollIntoView&&c.scrollIntoView()}}}function v(){var t=document.createElement("span");return t.style.flex="1",t}function m(t){return o.earlyAccess.getValue()||!t.isEarlyAccess}var c=function(t){p.state.chapterTextNodes=u.getTextNodes(f),void 0!==t&&(null===u.id("warning")?y(t):u.id("warning").addEventListener("click",function(){y(t)}));var e=p.state.currentChapter,n=e.inFolderIndex;if(e.chapter.isEarlyAccess){var o=function(t,e,n){var o=document.createElement("div");o.classList.add("block",t);var r=document.createElement("h1");r.innerText=e,o.appendChild(r);var a=document.createElement("p");return a.innerText=n,o.appendChild(a),o}("earlyAccess","编写中章节","请注意，本文正在编写中，因此可能会含有未完成的句子或是尚未更新的信息。");f.prepend(o)}var r=document.createElement("div");if(r.style.display="flex",1<=n&&m(e.folder.chapters[n-1])){var a=e.folder.chapters[n-1].htmlRelativePath,i=document.createElement("a");i.innerText="上一章",i.href=window.location.pathname+"?chapter="+a,i.style.textAlign="left",i.style.flex="1",i.addEventListener("click",function(t){t.preventDefault(),_(a),d.updateHistory(!0)}),r.appendChild(i)}else r.appendChild(v());var l=document.createElement("a");if(l.innerText="返回菜单",l.href=window.location.pathname,l.style.textAlign="center",l.style.flex="1",l.addEventListener("click",function(t){t.preventDefault(),h(),d.updateHistory(!0)}),r.appendChild(l),n<e.folder.chapters.length-1&&m(e.folder.chapters[n+1])){var c=e.folder.chapters[n+1].htmlRelativePath,s=document.createElement("a");s.innerText="下一章",s.href=window.location.pathname+"?chapter="+c,s.style.textAlign="right",s.style.flex="1",s.addEventListener("click",function(t){t.preventDefault(),_(c),d.updateHistory(!0)}),r.appendChild(s)}else r.appendChild(v());f.appendChild(r),u.id("rect").style.overflow="hidden",setTimeout(function(){u.id("rect").style.overflow=null,void 0===t&&u.id("rect").scrollTo(0,0)},1)};function _(e,n){i.setRectMode(i.RectMode.MAIN);var o=r.relativePathLookUpMap.get(e);return p.state.currentChapter=o,l.has(e)?null===l.get(e)?f.innerText=a.loadingText:(f.innerHTML=l.get(e),c(n)):(f.innerText=a.loadingText,fetch("./chapters/"+e).then(function(t){return t.text()}).then(function(t){l.set(e,t),o===p.state.currentChapter&&(f.innerHTML=t,c(n))})),!0}n.loadChapter=_},{"./DOM":3,"./RectMode":6,"./data":13,"./history":15,"./loadingText":17,"./settings":18,"./state":19}],13:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.data=window.DATA,o.relativePathLookUpMap=new Map,function e(n){n.subfolders.forEach(function(t){e(t)}),n.chapters.forEach(function(t,e){o.relativePathLookUpMap.set(t.htmlRelativePath,{folder:n,chapter:t,inFolderIndex:e})})}(o.data.chapterTree)},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./chapterControl"),a=t("./data"),i=t("./history"),l=t("./state");n.followQuery=function(){var t=decodeURIComponent(window.location.hash.substr(1)),e=a.relativePathLookUpMap.get(t);if(void 0!==e){if(l.state.currentChapter!==e)if("function"!=typeof URLSearchParams)r.loadChapter(t);else{var n=new URLSearchParams(window.location.search).get("selection"),o=null!==n?n.split(",").map(function(t){return+t}):[];4===o.length&&o.every(function(t){return 0<=t&&t%1==0&&!Number.isNaN(t)&&Number.isFinite(t)})?r.loadChapter(t,o):r.loadChapter(t),document.title=i.getTitle()}}else null!==l.state.currentChapter&&(r.closeChapter(),document.title=i.getTitle())}},{"./chapterControl":12,"./data":13,"./history":15,"./state":19}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./state");function a(){var t="可穿戴科技";return null!==r.state.currentChapter&&(t+=" - "+r.state.currentChapter.chapter.displayName),t}n.getTitle=a,n.updateHistory=function(t){var e=t?window.history.pushState:window.history.replaceState,n=window.location.pathname;null!==r.state.currentChapter&&(null!==r.state.chapterSelection&&(n+="?selection="+r.state.chapterSelection.join(",")),n+="#"+r.state.currentChapter.chapter.htmlRelativePath);var o=a();document.title=o,e.call(window.history,null,o,n)}},{"./state":19}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./data"),r=t("./DOM"),a=t("./followQuery"),i=t("./MainMenu"),l=t("./settings"),c=t("./updateSelection"),s=r.id("warning");null!==s&&s.addEventListener("click",function(){s.style.opacity="0",l.animation.getValue()?s.addEventListener("transitionend",function(){s.remove()}):s.remove()}),r.id("build-number").innerText="Build "+o.data.buildNumber,(new i.MainMenu).setActive(!0),document.addEventListener("selectionchange",function(){c.updateSelection()}),window.addEventListener("popstate",function(){a.followQuery()}),a.followQuery()},{"./DOM":3,"./MainMenu":4,"./data":13,"./followQuery":14,"./settings":18,"./updateSelection":22}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadingText="加载中..."},{}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function o(){}var r=(a.prototype.updateLocalStorage=function(){window.localStorage.setItem(this.key,String(this.value))},a.prototype.getValue=function(){return this.value},a.prototype.setValue=function(t){t!==this.value&&this.onUpdate(t),this.value=t,this.updateLocalStorage()},a.prototype.toggle=function(){this.setValue(!this.value)},a);function a(t,e,n){void 0===n&&(n=o),this.key=t,this.onUpdate=n,this.value=e?"false"!==window.localStorage.getItem(t):"true"===window.localStorage.getItem(t),this.updateLocalStorage(),this.onUpdate(this.value)}n.BooleanSetting=r,n.animation=new r("animation",!0,function(t){document.body.classList.toggle("animation-enabled",t)}),n.warning=new r("warning",!1),n.earlyAccess=new r("earlyAccess",!1,function(t){document.body.classList.toggle("early-access-disabled",!t)})},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.state={currentChapter:null,chapterSelection:null,chapterTextNodes:null}},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stylePreviewArticle="<h1>午饭</h1>\n<p><em>作者：友人♪B</em></p>\n<p>“午饭，午饭♪”</p>\n<p>阳伞下的琳，很是期待今天的午饭。</p>\n<p>或许是体质和别的血族不太一样，琳能够感知到食物的味道，似乎也保有着生物对食物的喜爱。</p>\n<p>虽然她并不能从这些食物中获取能量就是。</p>\n<p>学校食堂的夏季限定甜点今天也很是抢手，这点从队伍的长度就能看出来——队伍险些就要超出食堂的范围了。</p>\n<p>“你说我要有钱多好——”</p>\n<p>已经从隔壁窗口买下了普通，但是很便宜的营养餐的秋镜悬，看着队伍中兴致勃勃的琳。</p>\n<p>其实她并不是缺钱，大约是吝啬。</p>\n<p>这得怪她娘，穷养秋镜悬养习惯了，现在她光自己除灵退魔挣来的外快都够她奢侈上一把了，可却还保留着能不花钱绝对不花，必须花钱越少越好的吝啬习惯。</p>\n<p>少顷，琳已经带着她的甜品建筑——每块砖头都是一块蛋糕，堆成一个诡异的火柴盒——来到了桌前。</p>\n<p>“（吃不胖真好，有钱真好……”</p>\n<p>血族的听觉自然是捕捉到了秋镜悬的嘀咕，琳放下盘子，悄咪咪地将牙贴上了秋镜悬的脖颈。</p>\n<p>“嘻嘻♪”</p>\n<p>“呜——”</p>\n<p>盯——</p>\n<p>秋镜悬看了看盘中剩下的一块毛血旺，似是联系到了什么，将目光转向了琳的牙。</p>\n<p>正在享用蛋糕盛宴的琳以余光瞥见了她的视线，</p>\n<p>“盯着本小姐是要做什么呢？”</p>\n<p>“啊，没，没什么……”</p>\n<p>秋镜悬支支吾吾的说着，</p>\n<p>“就是好奇一个问题，血族为什么不吃毛血旺……”</p>\n<p>“噢☆毛血旺就是那个煮熟的血块是吧？太没有美感了这种血！而且吃了也没法儿恢复能量，简直就是血液的绝佳浪费☆！”</p>\n<p>琳发出了对这样美食的鄙视，不过这种鄙视大约只有血族和蚊子会出现吧……</p>\n<p>“血族需要摄入血，是因为血所具有的生命能量，如果煮熟了的话，超过九成的能量都被转化成其他的东西了，对我们来说实在是没什么用处，还白白浪费了作为原料的血，这种东西本小姐才不吃咧✘！饿死，死外边，从这边跳下去也不吃✘！”</p>\n<p>“欸，别这么说嘛，你能尝得到味道的吧，吃一块试试呗？”</p>\n<p>“真……真香♪”</p>\n<p>当晚，因为触发了真香定律而感到很火大的琳，把秋镜悬丢进了自己的高维空间里头放置了一晚上（高维时间三天）泄愤。</p>"},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.thanks=[{name:"神楽坂 立音"},{name:"lgd_小翅膀"},{name:"青葉"},{name:"kn"},{name:"F74nk",link:"https://t.me/F74nk_K"},{name:"杨佳文"},{name:"不知名的N姓人士就好"},{name:"某不愿透露姓名的N性？"},{name:"神楽坂 萌绫"},{name:"Butby"},{name:"友人♪B"},{name:"NekoCaffeine"},{name:"RainSlide"},{name:"czp",link:"https://www.hiczp.com"},{name:"kookxiang"},{name:"櫻川 紗良"},{name:"Skimige"}].sort(function(){return Math.random()-.5})},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./history"),l=t("./state");n.updateSelection=function(){if(null!==l.state.chapterTextNodes){var t=String(l.state.chapterSelection),e=document.getSelection();if(null===e)l.state.chapterSelection=null;else{var n=e.anchorNode instanceof HTMLElement?e.anchorNode.firstChild:e.anchorNode,o=l.state.chapterTextNodes.indexOf(n),r=e.focusNode instanceof HTMLElement?e.focusNode.firstChild:e.focusNode,a=l.state.chapterTextNodes.indexOf(r);-1===o||-1===a||o===a&&e.anchorOffset===e.focusOffset?l.state.chapterSelection=null:o<a||o===a&&e.anchorOffset<e.focusOffset?l.state.chapterSelection=[o,e.anchorOffset,a,e.focusOffset]:l.state.chapterSelection=[a,e.focusOffset,o,e.anchorOffset]}t!==String(l.state.chapterSelection)&&i.updateHistory(!1)}}},{"./history":15,"./state":19}]},{},[16]);