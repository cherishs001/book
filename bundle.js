!function i(l,a,c){function s(t,e){if(!a[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[t]={exports:{}};l[t][0].call(o.exports,function(e){return s(l[t][1][e]||e)},o,o.exports,i,l,a,c)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),(r=n.Menu||(n.Menu={}))[r.MAIN=0]="MAIN",r[r.CHAPTERS=1]="CHAPTERS",r[r.THANKS=2]="THANKS",r[r.STYLE=3]="STYLE",r[r.CONTACT=4]="CONTACT",r[r.SETTINGS=5]="SETTINGS",r[r.STATS=6]="STATS"},{}],2:[function(e,t,n){"use strict";var s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(e,t){this.name=e,this.def=t,this.styleSheet=null;var n=document.createElement("div");n.classList.add("selectable","small","button"),n.innerText=e,n.addEventListener("click",this.active.bind(this)),this.selectionButton=n}return t.prototype.injectStyleSheet=function(){var e=document.createElement("style");document.head.appendChild(e);var t=e.sheet;t.disabled=!0,t.insertRule(".rect.reading { background-color: "+this.def.rectBgColor+"; }"),t.insertRule(".rect.reading>.content { background-color: "+this.def.paperBgColor+"; }"),t.insertRule(".rect.reading>.content { color: "+this.def.textColor+"; }"),t.insertRule(".rect.reading>.content a { color: "+this.def.linkColor+"; }"),t.insertRule(".rect.reading>.content a:visited { color: "+this.def.linkColor+"; }"),t.insertRule(".rect.reading>.content a:hover { color: "+this.def.linkHoverColor+"; }"),t.insertRule(".rect.reading>.content a:active { color: "+this.def.linkActiveColor+"; }"),this.styleSheet=t},t.prototype.active=function(){if(null!==t.currentlyEnabled){var e=t.currentlyEnabled;null!==e.styleSheet&&(e.styleSheet.disabled=!0),e.selectionButton.classList.remove("selected")}null===this.styleSheet&&this.injectStyleSheet(),this.styleSheet.disabled=!1,this.selectionButton.classList.add("selected"),window.localStorage.setItem("style",this.name),t.currentlyEnabled=this},t.currentlyEnabled=null,t}();n.load=function(t){var n,e,r=[new u("默认",{rectBgColor:"#EFEFED",paperBgColor:"#FFF",textColor:"#000",linkColor:"#00E",linkHoverColor:"#00E",linkActiveColor:"#00C"}),new u("夜间",{rectBgColor:"#272B36",paperBgColor:"#38404D",textColor:"#DDD",linkColor:"#55E",linkHoverColor:"#55E",linkActiveColor:"#33C"}),new u("羊皮纸",{rectBgColor:"#D8D4C9",paperBgColor:"#F8F4E9",textColor:"#552830",linkColor:"#00E",linkHoverColor:"#00E",linkActiveColor:"#00C"}),new u("可穿戴科技",{rectBgColor:"#444",paperBgColor:"#333",textColor:"#DDD",linkColor:"#66F",linkHoverColor:"#66F",linkActiveColor:"#44D"}),new u("巧克力",{rectBgColor:"#2C1C11",paperBgColor:"#3E2519",textColor:"#CD9F89",linkColor:"#66F",linkHoverColor:"#66F",linkActiveColor:"#44D"})],o=window.localStorage.getItem("style"),i=!1;try{for(var l=s(r),a=l.next();!a.done;a=l.next()){var c=a.value;if(o===c.name){c.active(),i=!0;break}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(e=l.return)&&e.call(l)}finally{if(n)throw n.error}}i||r[0].active(),r.forEach(function(e){return t.appendChild(e.selectionButton)})}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getTextNodes=function e(t,n){for(var r=n||[],o=t.firstChild;null!==o;)o instanceof HTMLElement&&e(o,r),o instanceof Text&&r.push(o),o=o.nextSibling;return r}},{}],4:[function(e,t,n){"use strict";var r,o,i,s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),l=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("./getTextNodes"),a=e("./loadingText"),u=e("./Menu"),d=e("./Style"),f=e("./stylePreviewArticle"),p=window.DATA,v=function(e){return document.getElementById(e)},h=v("warning");v("build-number").innerText="Build "+p.buildNumber;var g=v("rect"),m=v("content"),y=v("btngrp-main"),S=v("btn-chapters"),T=v("btn-thanks"),C=v("btn-style"),M=v("btn-contact"),b=v("btn-settings"),E=v("btn-stats"),A=v("btngrp-chapters"),x=v("btn-chapters-back"),w=v("btngrp-thanks"),N=v("btn-thanks-back"),L=v("btngrp-style"),k=v("btn-style-back");d.load(L);var I,O,F=v("btngrp-contact"),D=v("btn-contact-back"),H=v("btngrp-settings"),B=v("btn-settings-back"),_=v("btn-settings-warning"),P=v("btn-settings-animation"),R=v("btngrp-stats"),j=v("btn-stats-back"),G=v("txt-stats-chars"),K=v("txt-stats-paragraphs");G.innerText="总字数："+p.charsCount,K.innerText="总段落数："+p.paragraphsCount,(O=I||(I={}))[O.SIDE=0]="SIDE",O[O.MAIN=1]="MAIN",O[O.OFF=2]="OFF";var Y=I.OFF,q=function(e){Y!==e&&(e===I.OFF?g.classList.remove("reading"):(Y===I.MAIN?g.classList.remove("main"):Y===I.SIDE?g.classList.remove("side"):(g.classList.remove("main","side"),g.classList.add("reading")),e===I.MAIN?g.classList.add("main"):g.classList.add("side")),Y=e)},U=u.Menu.MAIN,V=((r={})[u.Menu.MAIN]=y,r[u.Menu.CHAPTERS]=A,r[u.Menu.THANKS]=w,r[u.Menu.STYLE]=L,r[u.Menu.CONTACT]=F,r[u.Menu.SETTINGS]=H,r[u.Menu.STATS]=R,r),W=function(e,t,n,r){e.addEventListener("click",function(){U===t&&(U=n,void 0!==r&&r(),V[t].classList.add("hidden"),V[n].classList.remove("hidden"))})};W(S,u.Menu.MAIN,u.Menu.CHAPTERS),W(x,u.Menu.CHAPTERS,u.Menu.MAIN),W(T,u.Menu.MAIN,u.Menu.THANKS),W(N,u.Menu.THANKS,u.Menu.MAIN),W(C,u.Menu.MAIN,u.Menu.STYLE,function(){m.innerHTML=f.stylePreviewArticle,q(I.SIDE)}),W(k,u.Menu.STYLE,u.Menu.MAIN,function(){q(I.OFF)}),W(M,u.Menu.MAIN,u.Menu.CONTACT),W(D,u.Menu.CONTACT,u.Menu.MAIN),W(b,u.Menu.MAIN,u.Menu.SETTINGS),W(B,u.Menu.SETTINGS,u.Menu.MAIN),W(E,u.Menu.MAIN,u.Menu.STATS),W(j,u.Menu.STATS,u.Menu.MAIN);var z="false"!==window.localStorage.getItem("warning"),J="false"!==window.localStorage.getItem("animation"),Q=function(){_.innerText="NSFW 警告："+(z?"开":"关")};Q();var X=function(){P.innerText="使用动画："+(J?"开":"关"),J?document.body.classList.add("animation-enabled"):document.body.classList.remove("animation-enabled")};X(),_.addEventListener("click",function(){z=!z,window.localStorage.setItem("warning",String(z)),Q()}),P.addEventListener("click",function(){J=!J,window.localStorage.setItem("animation",String(J)),X()}),null!==h&&h.addEventListener("click",function(){h.style.opacity="0",J?h.addEventListener("transitionend",function(){h.remove()}):h.remove()});var Z=new Map,$=null,ee=null,te=null,ne=function(){q(I.OFF),te=ee=$=null},re=function(){var e=document.createElement("span");return e.style.flex="1",e},oe=function(e){te=c.getTextNodes(m),void 0!==e&&function(e){var t=s(e,4),n=t[0],r=t[1],o=t[2],i=t[3];if(null!==te){var l=te[n],a=te[o];if(void 0!==l&&void 0!==a){document.getSelection().setBaseAndExtent(l,r,a,i);var c=l.parentElement;null!==c&&"function"==typeof c.scrollIntoView&&c.scrollIntoView()}}}(e);var t=p.chapters.indexOf($),n=document.createElement("div");if(n.style.display="flex",-1!==t&&0!==t){var r=p.chapters[t-1],o=document.createElement("a");o.innerText="上一章",o.href=window.location.pathname+"?chapter="+r,o.style.textAlign="left",o.style.flex="1",o.addEventListener("click",function(e){e.preventDefault(),ie(r),ae(!0)}),n.appendChild(o)}else n.appendChild(re());var i=document.createElement("a");if(i.innerText="返回菜单",i.href=window.location.pathname,i.style.textAlign="center",i.style.flex="1",i.addEventListener("click",function(e){e.preventDefault(),ne(),ae(!0)}),n.appendChild(i),-1!==t&&t<p.chapters.length-1){var l=p.chapters[t+1],a=document.createElement("a");a.innerText="下一章",a.href=window.location.pathname+"?chapter="+l,a.style.textAlign="right",a.style.flex="1",a.addEventListener("click",function(e){e.preventDefault(),ie(l),ae(!0)}),n.appendChild(a)}else n.appendChild(re());m.appendChild(n)},ie=function(t,n){return q(I.MAIN),$=t,Z.has(t)?null===Z.get(t)?m.innerText=a.loadingText:(m.innerHTML=Z.get(t),oe(n)):(m.innerText=a.loadingText,fetch("./chapters/"+t+".html").then(function(e){return e.text()}).then(function(e){Z.set(t,e),t===$&&(m.innerHTML=e,oe(n))})),!0},le=function(){var e="可穿戴科技";return null!==$&&(e+=" - 章节 "+$),e},ae=function(e){var t=e?window.history.pushState:window.history.replaceState,n=window.location.pathname;null!==$&&(n+="?chapter="+$,null!==ee&&(n+="&selection="+ee.join(",")));var r=le();document.title=r,t.call(window.history,null,r,n)};document.addEventListener("selectionchange",function(){if(null!==te){var e=String(ee),t=document.getSelection();if(null===t)ee=null;else{var n=t.anchorNode instanceof HTMLElement?t.anchorNode.firstChild:t.anchorNode,r=te.indexOf(n),o=t.focusNode instanceof HTMLElement?t.focusNode.firstChild:t.focusNode,i=te.indexOf(o);ee=-1===r||-1===i||r===i&&t.anchorOffset===t.focusOffset?null:r<i||r===i&&t.anchorOffset<t.focusOffset?[r,t.anchorOffset,i,t.focusOffset]:[i,t.focusOffset,r,t.anchorOffset]}e!==String(ee)&&ae(!1)}});var ce=function(){if("function"==typeof URLSearchParams){var e=new URLSearchParams(window.location.search),t=e.get("chapter");if(null!==t){if($!==t){var n=e.get("selection"),r=null!==n?n.split(",").map(function(e){return+e}):[];4===r.length&&r.every(function(e){return 0<=e&&e%1==0&&!Number.isNaN(e)&&Number.isFinite(e)})?ie(t,r):ie(t),document.title=le()}}else null!==$&&(ne(),document.title=le())}};window.addEventListener("popstate",function(){ce()});var se=function(e){var t=document.createElement("div");t.classList.add("small","button"),t.innerText="章节 "+e,t.addEventListener("click",function(){ie(e),ae(!0)}),A.appendChild(t)};try{for(var ue=l(p.chapters),de=ue.next();!de.done;de=ue.next()){se(de.value)}}catch(e){o={error:e}}finally{try{de&&!de.done&&(i=ue.return)&&i.call(ue)}finally{if(o)throw o.error}}ce()},{"./Menu":1,"./Style":2,"./getTextNodes":3,"./loadingText":5,"./stylePreviewArticle":6}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadingText="加载中..."},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stylePreviewArticle="<h1>午饭</h1>\n<p><em>作者：友人♪B</em></p>\n<p>“午饭，午饭♪”</p>\n<p>阳伞下的琳，很是期待今天的午饭。</p>\n<p>或许是体质和别的血族不太一样，琳能够感知到食物的味道，似乎也保有着生物对食物的喜爱。</p>\n<p>虽然她并不能从这些食物中获取能量就是。</p>\n<p>学校食堂的夏季限定甜点今天也很是抢手，这点从队伍的长度就能看出来——队伍险些就要超出食堂的范围了。</p>\n<p>“你说我要有钱多好——”</p>\n<p>已经从隔壁窗口买下了普通，但是很便宜的营养餐的秋镜悬，看着队伍中兴致勃勃的琳。</p>\n<p>其实她并不是缺钱，大约是吝啬。</p>\n<p>这得怪她娘，穷养秋镜悬养习惯了，现在她光自己除灵退魔挣来的外快都够她奢侈上一把了，可却还保留着能不花钱绝对不花，必须花钱越少越好的吝啬习惯。</p>\n<p>少顷，琳已经带着她的甜品建筑——每块砖头都是一块蛋糕，堆成一个诡异的火柴盒——来到了桌前。</p>\n<p>“（吃不胖真好，有钱真好……”</p>\n<p>血族的听觉自然是捕捉到了秋镜悬的嘀咕，琳放下盘子，悄咪咪地将牙贴上了秋镜悬的脖颈。</p>\n<p>“嘻嘻♪”</p>\n<p>“呜——”</p>\n<p>盯——</p>\n<p>秋镜悬看了看盘中剩下的一块毛血旺，似是联系到了什么，将目光转向了琳的牙。</p>\n<p>正在享用蛋糕盛宴的琳以余光瞥见了她的视线，</p>\n<p>“盯着本小姐是要做什么呢？”</p>\n<p>“啊，没，没什么……”</p>\n<p>秋镜悬支支吾吾的说着，</p>\n<p>“就是好奇一个问题，血族为什么不吃毛血旺……”</p>\n<p>“噢☆毛血旺就是那个煮熟的血块是吧？太没有美感了这种血！而且吃了也没法儿恢复能量，简直就是血液的绝佳浪费☆！”</p>\n<p>琳发出了对这样美食的鄙视，不过这种鄙视大约只有血族和蚊子会出现吧……</p>\n<p>“血族需要摄入血，是因为血所具有的生命能量，如果煮熟了的话，超过九成的能量都被转化成其他的东西了，对我们来说实在是没什么用处，还白白浪费了作为原料的血，这种东西本小姐才不吃咧✘！饿死，死外边，从这边跳下去也不吃✘！”</p>\n<p>“欸，别这么说嘛，你能尝得到味道的吧，吃一块试试呗？”</p>\n<p>“真……真香♪”</p>\n<p>当晚，因为触发了真香定律而感到很火大的琳，把秋镜悬丢进了自己的高维空间里头放置了一晚上（高维时间三天）泄愤。</p>"},{}]},{},[4]);