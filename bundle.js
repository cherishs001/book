!function a(l,o,s){function c(n,e){if(!o[n]){if(!l[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=o[n]={exports:{}};l[n][0].call(i.exports,function(e){return c(l[n][1][e]||e)},i,i.exports,a,l,o,s)}return o[n].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,n,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.Menu||(t.Menu={}))[r.MAIN=0]="MAIN",r[r.CHAPTERS=1]="CHAPTERS",r[r.THANKS=2]="THANKS",r[r.STYLE=3]="STYLE",r[r.CONTACT=4]="CONTACT",r[r.SETTINGS=5]="SETTINGS",r[r.STATS=6]="STATS"},{}],2:[function(e,n,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=r=t.Style||(t.Style={}))[i.BRIGHT=0]="BRIGHT",i[i.DARK=1]="DARK",t.styleClassNames=new Map,t.styleClassNames.set(r.BRIGHT,"style-bright"),t.styleClassNames.set(r.DARK,"style-dark")},{}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTextNodes=function e(n,t){for(var r=t||[],i=n.firstChild;null!==i;)i instanceof HTMLElement&&e(i,r),i instanceof Text&&r.push(i),i=i.nextSibling;return r}},{}],4:[function(e,n,t){"use strict";var r,i,a,l,o,s=this&&this.__values||function(e){var n="function"==typeof Symbol&&e[Symbol.iterator],t=0;return n?n.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}},c=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,i,a=t.call(e),l=[];try{for(;(void 0===n||0<n--)&&!(r=a.next()).done;)l.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return l};Object.defineProperty(t,"__esModule",{value:!0});var u=e("./getTextNodes"),d=e("./loadingText"),f=e("./Menu"),p=e("./Style"),v=e("./stylePreviewArticle"),h=window.DATA,T=function(e){return document.getElementById(e)},m=T("warning"),M=T("rect"),y=T("content"),S=T("btngrp-main"),g=T("btn-chapters"),N=T("btn-thanks"),A=T("btn-style"),w=T("btn-contact"),b=T("btn-settings"),x=T("btn-stats"),E=T("btngrp-chapters"),I=T("btn-chapters-back"),L=T("btngrp-thanks"),C=T("btn-thanks-back"),O=T("btngrp-style"),H=T("btn-style-back"),k=new Map;k.set(p.Style.BRIGHT,T("btn-style-bright")),k.set(p.Style.DARK,T("btn-style-dark"));var _,P,R=T("btngrp-contact"),F=T("btn-contact-back"),D=T("btngrp-settings"),G=T("btn-settings-back"),K=T("btn-settings-warning"),j=T("btn-settings-animation"),B=T("btngrp-stats"),Y=T("btn-stats-back"),q=T("txt-stats-chars"),U=T("txt-stats-paragraphs");q.innerText="总字数："+h.charsCount,U.innerText="总段落数："+h.paragraphsCount,(P=_||(_={}))[P.SIDE=0]="SIDE",P[P.MAIN=1]="MAIN",P[P.OFF=2]="OFF";var V=_.OFF,W=function(e){V!==e&&(e===_.OFF?M.classList.remove("reading"):(V===_.MAIN?M.classList.remove("main"):V===_.SIDE?M.classList.remove("side"):(M.classList.remove("main","side"),M.classList.add("reading")),e===_.MAIN?M.classList.add("main"):M.classList.add("side")),V=e)},z=f.Menu.MAIN,J=((r={})[f.Menu.MAIN]=S,r[f.Menu.CHAPTERS]=E,r[f.Menu.THANKS]=L,r[f.Menu.STYLE]=O,r[f.Menu.CONTACT]=R,r[f.Menu.SETTINGS]=D,r[f.Menu.STATS]=B,r),Q=p.Style.BRIGHT,X=function(e,n,t,r){e.addEventListener("click",function(){z===n&&(z=t,void 0!==r&&r(),J[n].classList.add("hidden"),J[t].classList.remove("hidden"))})};X(g,f.Menu.MAIN,f.Menu.CHAPTERS),X(I,f.Menu.CHAPTERS,f.Menu.MAIN),X(N,f.Menu.MAIN,f.Menu.THANKS),X(C,f.Menu.THANKS,f.Menu.MAIN),X(A,f.Menu.MAIN,f.Menu.STYLE,function(){y.innerHTML=v.stylePreviewArticle,W(_.SIDE)}),X(H,f.Menu.STYLE,f.Menu.MAIN,function(){W(_.OFF)}),X(w,f.Menu.MAIN,f.Menu.CONTACT),X(F,f.Menu.CONTACT,f.Menu.MAIN),X(b,f.Menu.MAIN,f.Menu.SETTINGS),X(G,f.Menu.SETTINGS,f.Menu.MAIN),X(x,f.Menu.MAIN,f.Menu.STATS),X(Y,f.Menu.STATS,f.Menu.MAIN);var Z=function(e){k.get(Q).classList.remove("selected"),k.get(e).classList.add("selected"),M.classList.remove(p.styleClassNames.get(Q)),M.classList.add(p.styleClassNames.get(e)),Q=e},$=function(e,n){n.addEventListener("click",function(){Z(e),window.localStorage.setItem("style",String(e))})};try{for(var ee=s(k.entries()),ne=ee.next();!ne.done;ne=ee.next()){var te=c(ne.value,2);$(te[0],te[1])}}catch(e){i={error:e}}finally{try{ne&&!ne.done&&(a=ee.return)&&a.call(ee)}finally{if(i)throw i.error}}var re=+window.localStorage.getItem("style");void 0!==p.Style[re]&&Z(re);var ie="false"!==window.localStorage.getItem("warning"),ae="false"!==window.localStorage.getItem("animation"),le=function(){K.innerText="NSFW 警告："+(ie?"开":"关")};le();var oe=function(){j.innerText="使用动画："+(ae?"开":"关"),ae?document.body.classList.add("animation-enabled"):document.body.classList.remove("animation-enabled")};oe(),K.addEventListener("click",function(){ie=!ie,window.localStorage.setItem("warning",String(ie)),le()}),j.addEventListener("click",function(){ae=!ae,window.localStorage.setItem("animation",String(ae)),oe()}),null!==m&&m.addEventListener("click",function(){m.style.opacity="0",ae?m.addEventListener("transitionend",function(){m.remove()}):m.remove()});var se=new Map,ce=null,ue=null,de=null,fe=function(){W(_.OFF),de=ue=ce=null},pe=function(){var e=document.createElement("span");return e.style.flex="1",e},ve=function(e){de=u.getTextNodes(y),void 0!==e&&function(e){var n=c(e,4),t=n[0],r=n[1],i=n[2],a=n[3];if(null!==de){var l=de[t],o=de[i];if(void 0!==l&&void 0!==o){document.getSelection().setBaseAndExtent(l,r,o,a);var s=l.parentElement;null!==s&&"function"==typeof s.scrollIntoView&&s.scrollIntoView()}}}(e);var n=h.chapters.indexOf(ce),t=document.createElement("div");if(t.style.display="flex",-1!==n&&0!==n){var r=h.chapters[n-1],i=document.createElement("a");i.innerText="上一章",i.href=window.location.pathname+"?chapter="+r,i.style.textAlign="left",i.style.flex="1",i.addEventListener("click",function(e){e.preventDefault(),he(r),me(!0)}),t.appendChild(i)}else t.appendChild(pe());var a=document.createElement("a");if(a.innerText="返回菜单",a.href=window.location.pathname,a.style.textAlign="center",a.style.flex="1",a.addEventListener("click",function(e){e.preventDefault(),fe(),me(!0)}),t.appendChild(a),-1!==n&&n<h.chapters.length-1){var l=h.chapters[n+1],o=document.createElement("a");o.innerText="下一章",o.href=window.location.pathname+"?chapter="+l,o.style.textAlign="right",o.style.flex="1",o.addEventListener("click",function(e){e.preventDefault(),he(l),me(!0)}),t.appendChild(o)}else t.appendChild(pe());y.appendChild(t)},he=function(n,t){return W(_.MAIN),ce=n,se.has(n)?null===se.get(n)?y.innerText=d.loadingText:(y.innerHTML=se.get(n),ve(t)):(y.innerText=d.loadingText,fetch("./chapters/"+n+".html").then(function(e){return e.text()}).then(function(e){se.set(n,e),n===ce&&(y.innerHTML=e,ve(t))})),!0},Te=function(){var e="可穿戴科技";return null!==ce&&(e+=" - 章节 "+ce),e},me=function(e){var n=e?window.history.pushState:window.history.replaceState,t=window.location.pathname;null!==ce&&(t+="?chapter="+ce,null!==ue&&(t+="&selection="+ue.join(",")));var r=Te();document.title=r,n.call(window.history,null,r,t)};document.addEventListener("selectionchange",function(){if(null!==de){var e=String(ue),n=document.getSelection();if(null===n)ue=null;else{var t=n.anchorNode instanceof HTMLElement?n.anchorNode.firstChild:n.anchorNode,r=de.indexOf(t),i=n.focusNode instanceof HTMLElement?n.focusNode.firstChild:n.focusNode,a=de.indexOf(i);ue=-1===r||-1===a||r===a&&n.anchorOffset===n.focusOffset?null:r<a||r===a&&n.anchorOffset<n.focusOffset?[r,n.anchorOffset,a,n.focusOffset]:[a,n.focusOffset,r,n.anchorOffset]}e!==String(ue)&&me(!1)}});var Me=function(){if("function"==typeof URLSearchParams){var e=new URLSearchParams(window.location.search),n=e.get("chapter");if(null!==n){if(ce!==n){var t=e.get("selection"),r=null!==t?t.split(",").map(function(e){return+e}):[];4===r.length&&r.every(function(e){return 0<=e&&e%1==0&&!Number.isNaN(e)&&Number.isFinite(e)})?he(n,r):he(n),document.title=Te()}}else null!==ce&&(fe(),document.title=Te())}};window.addEventListener("popstate",function(){Me()});var ye=function(e){var n=document.createElement("div");n.classList.add("small","button"),n.innerText="章节 "+e,n.addEventListener("click",function(){he(e),me(!0)}),E.appendChild(n)};try{for(var Se=s(h.chapters),ge=Se.next();!ge.done;ge=Se.next()){ye(ge.value)}}catch(e){l={error:e}}finally{try{ge&&!ge.done&&(o=Se.return)&&o.call(Se)}finally{if(l)throw l.error}}Me()},{"./Menu":1,"./Style":2,"./getTextNodes":3,"./loadingText":5,"./stylePreviewArticle":6}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadingText="加载中..."},{}],6:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stylePreviewArticle="<h1>午饭</h1>\n<p><em>作者：不知名的友人</em></p>\n<p>“午饭，午饭♪”</p>\n<p>阳伞下的琳，很是期待今天的午饭。</p>\n<p>或许是体质和别的血族不太一样，琳能够感知到食物的味道，似乎也保有着生物对食物的喜爱。</p>\n<p>虽然她并不能从这些食物中获取能量就是。</p>\n<p>学校食堂的夏季限定甜点今天也很是抢手，这点从队伍的长度就能看出来——队伍险些就要超出食堂的范围了。</p>\n<p>“你说我要有钱多好——”</p>\n<p>已经从隔壁窗口买下了普通，但是很便宜的营养餐的秋镜悬，看着队伍中兴致勃勃的琳。</p>\n<p>其实她并不是缺钱，大约是吝啬。</p>\n<p>这得怪她娘，穷养秋镜悬养习惯了，现在她光自己除灵退魔挣来的外快都够她奢侈上一把了，可却还保留着能不花钱绝对不花，必须花钱越少越好的吝啬习惯。</p>\n<p>少顷，琳已经带着她的甜品建筑——每块砖头都是一块蛋糕，堆成一个诡异的火柴盒——来到了桌前。</p>\n<p>“（吃不胖真好，有钱真好……”</p>\n<p>血族的听觉自然是捕捉到了秋镜悬的嘀咕，琳放下盘子，悄咪咪地将牙贴上了秋镜悬的脖颈。</p>\n<p>“嘻嘻♪”</p>\n<p>“呜——”</p>\n<p>盯——</p>\n<p>秋镜悬看了看盘中剩下的一块毛血旺，似是联系到了什么，将目光转向了琳的牙。</p>\n<p>正在享用蛋糕盛宴的琳以余光瞥见了她的视线，</p>\n<p>“盯着本小姐是要做什么呢？”</p>\n<p>“啊，没，没什么……”</p>\n<p>秋镜悬支支吾吾的说着，</p>\n<p>“就是好奇一个问题，血族为什么不吃毛血旺……”</p>\n<p>“噢☆毛血旺就是那个煮熟的血块是吧？太没有美感了这种血！而且吃了也没法儿恢复能量，简直就是血液的绝佳浪费☆！”</p>\n<p>琳发出了对这样美食的鄙视，不过这种鄙视大约只有血族和蚊子会出现吧……</p>\n<p>“血族需要摄入血，是因为血所具有的生命能量，如果煮熟了的话，超过九成的能量都被转化成其他的东西了，对我们来说实在是没什么用处，还白白浪费了作为原料的血，这种东西本小姐才不吃咧✘！饿死，死外边，从这边跳下去也不吃✘！”</p>\n<p>“欸，别这么说嘛，你能尝得到味道的吧，吃一块试试呗？”</p>\n<p>“真……真香♪”</p>\n<p>当晚，因为触发了真香定律而感到很火大的琳，把秋镜悬丢进了自己的高维空间里头放置了一晚上（高维时间三天）泄愤。</p>"},{}]},{},[4]);