<h1>6. 标准库</h1>
<p>WTCD 提供一系列标准库用来做一些正常做不到或是即使做到了也非常复杂的操作。</p>
<h2>6.1 <code>list*</code></h2>
<h3>6.1.1 <code>listSet</code></h3>
<p>接受 3 个参数：<code>list sourceList</code>，<code>number index</code>，<code>任意 value</code>。</p>
<p>返回一个列表，返回的列表是 <code>sourceList</code> 中 <code>index</code> 被替换为 <code>value</code> 后的列表。该函数不会修改 <code>sourceList</code>。</p>
<pre><code class="language-wtcd">listSet::[[ 0 1 2 3 4 5 ] 3 &quot;Nice&quot;] == [ 0 1 2 &quot;Nice&quot; 4 5 ]
</code></pre>
<h3>6.1.2 <code>listForEach</code></h3>
<p>接受 2 个参数：<code>list targetList</code>，<code>function fn</code>。</p>
<p>对 <code>targetList</code> 中每一项运行 <code>fn</code>。<code>fn</code> 的第一个参数是这一项的值，第二个参数是这一项的下标。</p>
<pre><code class="language-wtcd">declare number contentSum = 0
declare number indexSum = 0
listForEach::[[ 1 2 3 4 100 ] function[number item number index] {
  contentSum += item
  indexSum += index
}]
contentSum // 110
indexSum // 10
</code></pre>
<h3>6.1.3 <code>listMap</code></h3>
<p>接受 2 个参数：<code>list targetList</code>，<code>function fn</code>。</p>
<p>对 <code>targetList</code> 中每一项运行 <code>fn</code>。<code>fn</code> 的第一个参数是这一项的值，第二个参数是这一项的下标。然后，将所有 <code>fn</code> 的运行返回值合在一起，形成一个新的列表并返回。</p>
<pre><code class="language-wtcd">listMap::[[ 0 1 2 4 20 ] function[number item] item * item] == [ 0 1 4 16 400 ]
</code></pre>
<h3>6.1.4 <code>listCreateFilled</code></h3>
<p>接受 1 - 2 个参数：<code>number count</code>，<code>任意 value = null</code>。</p>
<p>创建一个列表，这个列表有 <code>count</code> 个元素，每个元素的值都是 <code>value</code>。</p>
<pre><code class="language-wtcd">listCreateFilled::[5 8] == [ 8 8 8 8 8 ]
</code></pre>
<h3>6.1.5 <code>listChunk</code></h3>
<p>接受 2 个参数：<code>list targetList</code>，<code>number chunkSize</code>。</p>
<p>将 <code>targetList</code> 分成若干个列表，每个列表的长度为 <code>chunkSize</code>。</p>
<pre><code class="language-wtcd">listChunk::[[ 1 2 3 4 5 6 7 8 9 10 ] 3 ] == [ [ 1 2 3 ] [ 4 5 6 ] [ 7 8 9 ] [ 10 ] ]
</code></pre>
<h2>6.2 <code>math*</code></h2>
<h3>6.2.1 <code>mathMin</code></h3>
<p>接受 1 个及以上的数字。返回其中最小的值。</p>
<pre><code class="language-wtcd">mathMin::[10 1 2 3 4] == 1
</code></pre>
<h3>6.2.2 <code>mathMax</code></h3>
<p>接受 1 个及以上的数字。返回其中最大的值。</p>
<pre><code class="language-wtcd">mathMax::[1 2 3 4 0] == 4
</code></pre>
<h3>6.2.3 <code>mathFloor</code></h3>
<p>接受 1 个参数：<code>number input</code>。返回小于等于 <code>input</code> 的最大整数。</p>
<pre><code class="language-wtcd">mathFloor::[11.8] == 11
mathFloor::[-11.8] == -12
</code></pre>
<h2>6.3 <code>string*</code></h2>
<h3>6.3.1 <code>stringLength</code></h3>
<p>接受 1 个参数：<code>string input</code>。返回 <code>input</code> 的长度。</p>
<pre><code class="language-wtcd">stringLength::[&quot;Hello~&quot;] == 6
</code></pre>
<h2>6.4 <code>random*</code></h2>
<h3>6.4.1 <code>random</code></h3>
<p>接受 0 - 2 个参数：<code>number low = 0</code>，<code>number high = 1</code>。</p>
<p>返回一个大于等于 <code>low</code>，小于 <code>high</code> 的随机浮点数。</p>
<h3>6.4.2 <code>randomInt</code></h3>
<p>接受 0 - 2 个参数：<code>number low = 0</code>，<code>number high = 1</code>。</p>
<p>返回一个大于等于 <code>low</code>，小于 <code>high</code> 的随机整数。</p>
<h3>6.4.3 <code>randomBoolean</code></h3>
<p>接受 0 - 1 个参数：<code>boolean trueChance = 0.5</code>。</p>
<p>返回一个有 <code>trueChance</code> 为 <code>true</code> 的随机布尔值。</p>
<h3>6.4.4 <code>randomBiased</code></h3>
<p><strong>实验性，尚未确认</strong></p>
<p>接受 0 - 4 个参数：<code>number low = 0</code>，<code>number high = 1</code>，<code>number bias = (low + high) / 2</code>，<code>number influence = 4</code>。</p>
<p>返回一个大于等于 <code>low</code>，小于 <code>high</code>，偏向于 <code>bias</code>，影响系数为 <code>influence</code> 的随机浮点数。</p>
<h2>6.5 <code>content*</code></h2>
<h3>6.5.1 <code>contentAddParagraph</code></h3>
<p>接受 1 个参数：<code>string content</code>。</p>
<p>创建并插入一个内容为 <code>content</code> 的自然段。</p>
<h3>6.5.2 <code>contentAddImage</code></h3>
<p>接受 1 个参数：<code>string src</code>。</p>
<p>创建并插入一个地址为 <code>src</code> 的图片。</p>
<h3>6.5.3 <code>contentAddUnorderedList</code></h3>
<p>接受任意数量个字符串参数。</p>
<p>然后用它们来产生并插入一个无序列表。</p>
<h3>6.5.4 <code>contentAddOrderedList</code></h3>
<p>接受任意数量个字符串参数。</p>
<p>然后用它们来产生并插入一个有序列表。</p>
<h3>6.5.5 <code>contentAddHeader</code></h3>
<p>接受 1 - 2 个参数：<code>string content</code>，<code>number level = 1</code>。</p>
<p>创建并插入一个级别为 <code>level</code>，内容为 <code>content</code> 的标题。</p>
<h2>6.6 Debug</h2>
<h3>6.6.1 <code>print</code></h3>
<p>接受任意数量个参数。将这些值打印到浏览器控制台。</p>
<h3>6.6.2 <code>assert</code></h3>
<p>接受 1 个参数：<code>boolean isOk</code>。</p>
<p>如果 <code>isOk</code> 不是 true，立刻产生一个异常（中断执行）。</p>
<h3>6.6.3 <code>assertError</code></h3>
<p>接受 1 个参数：<code>function fn</code>。</p>
<p>调用 <code>fn</code>。如果 <code>fn</code> 没有产生 WTCD 错误，则产生一个异常。（断言这个提供的函数在运行时会报错。）</p>
<h3>6.6.4 <code>timeStart</code></h3>
<p>接受 0 - 1 个参数：<code>string timerName = &quot;default&quot;</code>。</p>
<p>启动一个名为 <code>timerName</code> 的计时器。</p>
<h3>6.6.5 <code>timeEnd</code></h3>
<p>接受 0 - 1 个参数：<code>string timerName = &quot;default&quot;</code>。</p>
<p>结束名为 <code>timerName</code> 的计时器，并将计时结果打印到浏览器控制台。</p>
