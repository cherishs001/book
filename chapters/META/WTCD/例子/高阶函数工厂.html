{"error":false,"wtcdRoot":{"initStatements":[],"sections":[{"name":"main","executes":{"type":"block","statements":[{"type":"declaration","declarations":[{"variableName":"withPrint","variableType":"function","initialValue":{"type":"function","arguments":[{"type":"string","name":"msg","defaultValue":null}],"restArgName":null,"captures":["print"],"expression":{"type":"function","arguments":[{"type":"function","name":"callback","defaultValue":null}],"restArgName":null,"captures":["print","msg"],"expression":{"type":"function","arguments":[],"restArgName":"args","captures":["print","msg","callback"],"expression":{"type":"block","statements":[{"type":"expression","expression":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"print"},"arg1":{"type":"list","elements":[{"type":"binaryExpression","operator":"+","arg0":{"type":"stringLiteral","value":"开始"},"arg1":{"type":"variableReference","variableName":"msg"}}]}}},{"type":"setReturn","value":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"callback"},"arg1":{"type":"variableReference","variableName":"args"}}},{"type":"expression","expression":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"print"},"arg1":{"type":"list","elements":[{"type":"binaryExpression","operator":"+","arg0":{"type":"stringLiteral","value":"结束"},"arg1":{"type":"variableReference","variableName":"msg"}}]}}}]}}}}}]},{"type":"declaration","declarations":[{"variableName":"square","variableType":"function","initialValue":{"type":"function","arguments":[{"type":"number","name":"n","defaultValue":null}],"restArgName":null,"captures":[],"expression":{"type":"binaryExpression","operator":"*","arg0":{"type":"variableReference","variableName":"n"},"arg1":{"type":"variableReference","variableName":"n"}}}}]},{"type":"declaration","declarations":[{"variableName":"wrapped","variableType":"function","initialValue":{"type":"binaryExpression","operator":"|>","arg0":{"type":"variableReference","variableName":"square"},"arg1":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"withPrint"},"arg1":{"type":"list","elements":[{"type":"stringLiteral","value":"【square 函数】"}]}}}}]},{"type":"expression","expression":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"print"},"arg1":{"type":"list","elements":[{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"wrapped"},"arg1":{"type":"list","elements":[{"type":"numberLiteral","value":16}]}}]}}},{"type":"declaration","declarations":[{"variableName":"wrapped2","variableType":"function","initialValue":{"type":"binaryExpression","operator":"|>","arg0":{"type":"variableReference","variableName":"square"},"arg1":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"withPrint"},"arg1":{"type":"list","elements":[{"type":"stringLiteral","value":"【同一个 square 函数】"}]}}}}]},{"type":"expression","expression":{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"print"},"arg1":{"type":"list","elements":[{"type":"binaryExpression","operator":"::","arg0":{"type":"variableReference","variableName":"wrapped2"},"arg1":{"type":"list","elements":[{"type":"numberLiteral","value":12}]}}]}}}]},"then":{"type":"exitAction"},"content":[{"html":"<h1>高阶函数工厂</h1>\n<p>一个函数被调用后返回一个高阶函数的例子。</p>\n<p>工厂是指传入一个非函数，返回一个函数的函数。高阶函数是指传入一个函数，返回一个调用时会调用传入函数的函数。</p>\n<p>按 F12 打开浏览器控制台以查看运行结果。</p>\n","variables":[]}]}]}}